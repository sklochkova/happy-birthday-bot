from __future__ import annotations

import logging
import random

from aiogram import Bot

from bot.utils.date_helpers import month_name

logger = logging.getLogger(__name__)

DEFAULT_TEMPLATES = [
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üéÇüéâ –ü—É—Å—Ç—å –≤—Å—ë —Å–±—ã–≤–∞–µ—Ç—Å—è!",
    "–ü–æ–∑–¥—Ä–∞–≤–ª—è—é —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! ü•≥ –°—á–∞—Å—Ç—å—è –∏ —Ä–∞–¥–æ—Å—Ç–∏!",
    "{name}, —Å –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º! üéÅ –ñ–µ–ª–∞—é —Ç–µ–ø–ª–∞ –∏ —É–ª—ã–±–æ–∫!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üéà –ü—É—Å—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å –±—É–¥–µ—Ç –æ—Å–æ–±–µ–Ω–Ω—ã–º!",
    "–£—Ä–∞, —É {name} –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è! üéä –ó–¥–æ—Ä–æ–≤—å—è –∏ —É–¥–∞—á–∏!",
    "{name}, –ø–æ–∑–¥—Ä–∞–≤–ª—è—é! üåü –ñ–µ–ª–∞—é —è—Ä–∫–∏—Ö –º–æ–º–µ–Ω—Ç–æ–≤ –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üéÇ –ü—É—Å—Ç—å –º–µ—á—Ç—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é!",
    "Happy Birthday, {name}! ü•Ç –°—á–∞—Å—Ç—å—è, –ª—é–±–≤–∏ –∏ –≤—Å–µ–≥–æ —Å–∞–º–æ–≥–æ –ª—É—á—à–µ–≥–æ!",
    "{name}, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! üéâ –ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –ø—Ä–∏–Ω–æ—Å–∏—Ç —Ä–∞–¥–æ—Å—Ç—å!",
    "–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º {name}! üéàüéà –ñ–µ–ª–∞–µ–º –º–æ—Ä–µ –ø–æ–∑–∏—Ç–∏–≤–∞ –∏ —Ö–æ—Ä–æ—à–µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üå∏ –¢–µ–ø–ª–∞, —É—é—Ç–∞ –∏ –¥—É—à–µ–≤–Ω–æ–π –≥–∞—Ä–º–æ–Ω–∏–∏!",
    "{name}, —Å –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º! üéÇ –ü—É—Å—Ç—å –≥–æ–¥ –±—É–¥–µ—Ç —â–µ–¥—Ä—ã–º –Ω–∞ –ø—Ä–∏—è—Ç–Ω—ã–µ —Å—é—Ä–ø—Ä–∏–∑—ã!",
    "–°–µ–≥–æ–¥–Ω—è –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —É {name}! üéÅ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º –æ—Ç –≤—Å–µ–π –¥—É—à–∏!",
    "{name}, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! ‚òÄÔ∏è –ü—É—Å—Ç—å —Å–æ–ª–Ω—Ü–µ —Å–≤–µ—Ç–∏—Ç —è—Ä—á–µ –¥–ª—è —Ç–µ–±—è!",
    "–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, {name}! üéä –ñ–µ–ª–∞—é –ª—ë–≥–∫–æ—Å—Ç–∏ –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üç∞ –ü—É—Å—Ç—å –∂–∏–∑–Ω—å –±—É–¥–µ—Ç —Å–ª–∞–¥–∫–æ–π!",
    "{name}, —É—Ä–∞, –ø—Ä–∞–∑–¥–Ω–∏–∫! ü•≥ –ñ–µ–ª–∞—é —ç–Ω–µ—Ä–≥–∏–∏ –∏ –æ—Ç–ª–∏—á–Ω–æ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è!",
    "–° –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º, {name}! üéâ –ü—É—Å—Ç—å –≤—Å—ë –ø–æ–ª—É—á–∞–µ—Ç—Å—è –ª–µ–≥–∫–æ –∏ –∫—Ä–∞—Å–∏–≤–æ!",
    "{name}, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! üí´ –ü—É—Å—Ç—å —É–¥–∞—á–∞ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç —Ä—è–¥–æ–º!",
    "–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º {name} —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! üéÇ –ó–¥–æ—Ä–æ–≤—å—è, —Å—á–∞—Å—Ç—å—è, –ª—é–±–≤–∏!",
    "{name}, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! üåà –ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å —Ä–∞—Å–∫—Ä–∞—à–µ–Ω —è—Ä–∫–∏–º–∏ –∫—Ä–∞—Å–∫–∞–º–∏!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üé∂ –ñ–µ–ª–∞—é –≥–∞—Ä–º–æ–Ω–∏–∏ –∏ –¥–æ–±—Ä—ã—Ö –ª—é–¥–µ–π —Ä—è–¥–æ–º!",
    "{name}, –ø–æ–∑–¥—Ä–∞–≤–ª—è—é! üéÅ –ü—É—Å—Ç—å —ç—Ç–æ—Ç –≥–æ–¥ –ø—Ä–∏–Ω–µ—Å—ë—Ç –º–Ω–æ–≥–æ —Ö–æ—Ä–æ—à–µ–≥–æ!",
    "–° –¥–Ω—é—Ö–æ–π, {name}! üî• –ë—É–¥—å —Å—á–∞—Å—Ç–ª–∏–≤ –∏ –∑–¥–æ—Ä–æ–≤!",
    "{name}, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! üéà –ü—É—Å—Ç—å —Å–±—É–¥–µ—Ç—Å—è —Ç–æ, –æ —á—ë–º –º–µ—á—Ç–∞–µ—à—å!",
    "–ü–æ–∑–¥—Ä–∞–≤–ª—è—é —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üåü –£–ª—ã–±–æ–∫ –∏ —Ç—ë–ø–ª—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤!",
    "–°–µ–≥–æ–¥–Ω—è –ø—Ä–∞–∑–¥–Ω–∏–∫ —É {name}! üéÇ –ñ–µ–ª–∞–µ–º –≤—Å–µ–≥–æ —Å–∞–º–æ–≥–æ –Ω–∞–∏–ª—É—á—à–µ–≥–æ!",
    "{name}, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! üåª –ü—É—Å—Ç—å –≤ –∂–∏–∑–Ω–∏ –±—É–¥–µ—Ç –º–Ω–æ–≥–æ —Å–æ–ª–Ω–µ—á–Ω—ã—Ö –¥–Ω–µ–π!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üéä –û—Å—Ç–∞–≤–∞–π—Å—è —Ç–∞–∫–∏–º –∂–µ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω—ã–º!",
    "{name}, –ø–æ–∑–¥—Ä–∞–≤–ª—è—é! ü•Ç –ü—É—Å—Ç—å –Ω–æ–≤—ã–π –≥–æ–¥ –∂–∏–∑–Ω–∏ –±—É–¥–µ—Ç –ª—É—á—à–µ –ø—Ä–µ–∂–Ω–µ–≥–æ!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üéâ –†–∞–¥–æ—Å—Ç–∏, –∑–¥–æ—Ä–æ–≤—å—è –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∂–µ–ª–∞–Ω–∏–π!",
    "{name}, —Å –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º! üíê –ñ–µ–ª–∞—é –ª—é–±–≤–∏ –∏ –≤–∑–∞–∏–º–æ–ø–æ–Ω–∏–º–∞–Ω–∏—è!",
    "–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º {name}! üéÇ –ü—É—Å—Ç—å –¥–µ–Ω—å –±—É–¥–µ—Ç –Ω–∞–ø–æ–ª–Ω–µ–Ω —Ç–µ–ø–ª–æ–º –∏ –∑–∞–±–æ—Ç–æ–π!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! ‚ú® –ñ–µ–ª–∞—é –≤–æ–ª—à–µ–±—Å—Ç–≤–∞ –≤ –∫–∞–∂–¥–æ–º –¥–Ω–µ!",
    "{name}, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! üéÅ –ü—É—Å—Ç—å –≤—Å—ë —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –Ω–∞–∏–ª—É—á—à–∏–º –æ–±—Ä–∞–∑–æ–º!",
    "–£—Ä–∞! –£ {name} —Å–µ–≥–æ–¥–Ω—è –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è! üéà –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! ü•≥",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üçÄ –ñ–µ–ª–∞—é —É–¥–∞—á–∏ –≤–æ –≤—Å–µ—Ö –Ω–∞—á–∏–Ω–∞–Ω–∏—è—Ö!",
    "{name}, –ø–æ–∑–¥—Ä–∞–≤–ª—è—é —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! üé∂ –ü—É—Å—Ç—å –∂–∏–∑–Ω—å –∑–≤—É—á–∏—Ç –∫—Ä–∞—Å–∏–≤–æ!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üå∫ –ü—É—Å—Ç—å —Ä—è–¥–æ–º –≤—Å–µ–≥–¥–∞ –±—É–¥—É—Ç –±–ª–∏–∑–∫–∏–µ –ª—é–¥–∏!",
    "{name}, —Å –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º! üéÇ –ñ–µ–ª–∞—é –±–æ–¥—Ä–æ—Å—Ç–∏ –¥—É—Ö–∞ –∏ —Ö–æ—Ä–æ—à–µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è!",
    "–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, {name}! üéâ –ù–æ–≤—ã—Ö –ø–æ–±–µ–¥, —Å–≤–µ—Ä—à–µ–Ω–∏–π –∏ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! ü´∂ –ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –¥–∞—Ä–∏—Ç —á—Ç–æ-—Ç–æ —Ö–æ—Ä–æ—à–µ–µ!",
    "{name}, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! üéà –ñ–µ–ª–∞—é –ª—ë–≥–∫–æ—Å—Ç–∏ –Ω–∞ –¥—É—à–µ –∏ –æ–≥–Ω—è –≤ —Å–µ—Ä–¥—Ü–µ!",
    "–° –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º, {name}! üéä –ü—É—Å—Ç—å –≥–æ–¥ –±—É–¥–µ—Ç –ø–æ–ª–æ–Ω –ø—Ä–∏—è—Ç–Ω—ã—Ö –æ—Ç–∫—Ä—ã—Ç–∏–π!",
    "{name}, –ø–æ–∑–¥—Ä–∞–≤–ª—è—é! üåü –ü—É—Å—Ç—å –≤–ø–µ—Ä–µ–¥–∏ –∂–¥—ë—Ç —Ç–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–µ–µ!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üéÇ –ñ–µ–ª–∞—é –∫—Ä–µ–ø–∫–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è –∏ –±–æ–¥—Ä–æ–≥–æ –¥—É—Ö–∞!",
    "{name}, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! ü•≥ –ü—É—Å—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å –∑–∞–ø–æ–º–Ω–∏—Ç—Å—è –Ω–∞–¥–æ–ª–≥–æ!",
    "–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, {name}! üí´ –ü—É—Å—Ç—å –º–∏—Ä –≤–æ–∫—Ä—É–≥ –±—É–¥–µ—Ç –¥–æ–±—Ä—ã–º –∏ —Å–≤–µ—Ç–ª—ã–º!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üéÅ –ü—É—Å—Ç—å –∫–∞–∂–¥–æ–µ —É—Ç—Ä–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —É–ª—ã–±–∫–∏!",
    "{name}, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! üéâ –°—á–∞—Å—Ç—å—è —Å—Ç–æ–ª—å–∫–æ, —Å–∫–æ–ª—å–∫–æ –∑–≤—ë–∑–¥ –Ω–∞ –Ω–µ–±–µ! ‚≠ê",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üïä –ü—É—Å—Ç—å –¥—É—à–∞ –ø–æ—ë—Ç –∏ —Å–µ—Ä–¥—Ü–µ —Ä–∞–¥—É–µ—Ç—Å—è!",
    "{name}, –ø–æ–∑–¥—Ä–∞–≤–ª—è—é! üéÇ –ü—É—Å—Ç—å —Ä—è–¥–æ–º –±—É–¥—É—Ç —Ç–æ–ª—å–∫–æ –≤–µ—Ä–Ω—ã–µ –¥—Ä—É–∑—å—è!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üß° –ñ–µ–ª–∞—é –∏—Å–∫—Ä–µ–Ω–Ω–∏—Ö —á—É–≤—Å—Ç–≤ –∏ –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ —Å—á–∞—Å—Ç—å—è!",
    "{name}, —Å –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º! üéà –ü—É—Å—Ç—å –∂–∏–∑–Ω—å —É–¥–∏–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏—è—Ç–Ω–æ!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üåô –ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –≤–µ—á–µ—Ä –ø—Ä–∏–Ω–æ—Å–∏—Ç –ø–æ–∫–æ–π, –∞ —É—Ç—Ä–æ ‚Äî –Ω–∞–¥–µ–∂–¥—É!",
    "{name}, —É—Ä–∞! üéä –ü—É—Å—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å –±—É–¥–µ—Ç –Ω–∞—á–∞–ª–æ–º —á–µ–≥–æ-—Ç–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–≥–æ!",
    "–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, {name}! üçæ –ñ–µ–ª–∞—é –ø–æ–≤–æ–¥–æ–≤ –¥–ª—è —Ä–∞–¥–æ—Å—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üåø –ü—É—Å—Ç—å –≤ –∂–∏–∑–Ω–∏ –±—É–¥–µ—Ç –±–æ–ª—å—à–µ —Ç—ë–ø–ª—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤!",
    "{name}, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! üéµ –ü—É—Å—Ç—å –≤—Å—ë –∑–≤—É—á–∏—Ç –≤ —É–Ω–∏—Å–æ–Ω —Å —Ç–≤–æ–∏–º–∏ –º–µ—á—Ç–∞–º–∏!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üíé –¢—ã ‚Äî –Ω–∞—Å—Ç–æ—è—â–µ–µ —Å–æ–∫—Ä–æ–≤–∏—â–µ! –¶–µ–Ω–∏ —Å–µ–±—è!",
    "{name}, –ø–æ–∑–¥—Ä–∞–≤–ª—è—é! üå§ –ü—É—Å—Ç—å –¥–∞–∂–µ –≤ –ø–∞—Å–º—É—Ä–Ω—ã–π –¥–µ–Ω—å —Ç–µ–±–µ –±—É–¥–µ—Ç —Å–≤–µ—Ç–ª–æ!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üéÄ –ñ–µ–ª–∞—é –∫—Ä–∞—Å–∏–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π –∏ –¥–æ–±—Ä—ã—Ö –≤—Å—Ç—Ä–µ—á!",
    "{name}, —Å –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º! üèñ –ü—É—Å—Ç—å –≤ –∂–∏–∑–Ω–∏ –±—É–¥–µ—Ç —Å—Ç–æ–ª—å–∫–æ —Å—á–∞—Å—Ç—å—è, —Å–∫–æ–ª—å–∫–æ –ø–µ—Å—á–∏–Ω–æ–∫ –Ω–∞ –ø–ª—è–∂–µ!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! ü™Ñ –ü—É—Å—Ç—å —Å–µ–≥–æ–¥–Ω—è —Å–ª—É—á–∏—Ç—Å—è –º–∞–ª–µ–Ω—å–∫–æ–µ —á—É–¥–æ!",
    "{name}, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! üç´ –ñ–µ–ª–∞—é, —á—Ç–æ–±—ã –∂–∏–∑–Ω—å –±—ã–ª–∞ –ø–æ–ª–Ω–∞ –ø—Ä–∏—è—Ç–Ω—ã—Ö –º–µ–ª–æ—á–µ–π!",
    "–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, {name}! üåä –ü—É—Å—Ç—å —ç–Ω–µ—Ä–≥–∏—è –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –Ω–µ –ø–æ–∫–∏–¥–∞—é—Ç —Ç–µ–±—è!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üè° –¢–µ–ø–ª–∞ –∏ —É—é—Ç–∞ –≤ –¥–æ–º–µ, –º–∏—Ä–∞ –∏ –ª—é–±–≤–∏ –≤ —Å–µ—Ä–¥—Ü–µ!",
    "{name}, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! ü´Ç –ü—É—Å—Ç—å —Ç–µ–±—è –≤—Å–µ–≥–¥–∞ –æ–∫—Ä—É–∂–∞—é—Ç —Ç–µ, –∫—Ç–æ —Ü–µ–Ω–∏—Ç!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üéØ –ü—É—Å—Ç—å –≤—Å–µ —Ü–µ–ª–∏ –±—É–¥—É—Ç –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã, –∞ –ø–ª–∞–Ω—ã ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã!",
    "{name}, –ø–æ–∑–¥—Ä–∞–≤–ª—è—é! üå† –ó–∞–≥–∞–¥–∞–π –∂–µ–ª–∞–Ω–∏–µ ‚Äî —Å–µ–≥–æ–¥–Ω—è –æ–Ω–æ —Ç–æ—á–Ω–æ —Å–±—É–¥–µ—Ç—Å—è!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üßÅ –ü—É—Å—Ç—å –∂–∏–∑–Ω—å –±—É–¥–µ—Ç –≤–∫—É—Å–Ω–æ–π –∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–π!",
    "{name}, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! ü™ª –ñ–µ–ª–∞—é —Ä–∞—Å—Ü–≤–µ—Ç–∞—Ç—å –∏ —Ä–∞–¥–æ–≤–∞—Ç—å –º–∏—Ä —Å–æ–±–æ–π!",
    "–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, {name}! üõ§ –ü—É—Å—Ç—å –¥–æ—Ä–æ–≥–∞ –∂–∏–∑–Ω–∏ –≤–µ–¥—ë—Ç –∫ —Å–∞–º–æ–º—É –ª—É—á—à–µ–º—É!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üé† –ü—É—Å—Ç—å –¥–µ—Ç—Å–∫–∞—è —Ä–∞–¥–æ—Å—Ç—å –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–∫–∏–¥–∞–µ—Ç —Ç–µ–±—è!",
    "{name}, —Å –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º! üåÖ –ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –Ω–æ–≤—ã–π –¥–µ–Ω—å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –Ω–∞–¥–µ–∂–¥—ã!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! ü¶ã –ü—É—Å—Ç—å –ø–µ—Ä–µ–º–µ–Ω—ã –±—É–¥—É—Ç —Ç–æ–ª—å–∫–æ –∫ –ª—É—á—à–µ–º—É!",
    "{name}, –ø–æ–∑–¥—Ä–∞–≤–ª—è—é! üéá –ñ–µ–ª–∞—é —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–∞ —ç–º–æ—Ü–∏–π –∏ –º–æ—Ä–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–π!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! ‚òï –ü—É—Å—Ç—å –≤ –∂–∏–∑–Ω–∏ –±—É–¥–µ—Ç –≤—Ä–µ–º—è –¥–ª—è —Å–µ–±—è –∏ –±–ª–∏–∑–∫–∏—Ö!",
    "{name}, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! üìñ –ü—É—Å—Ç—å –Ω–æ–≤–∞—è –≥–ª–∞–≤–∞ –∂–∏–∑–Ω–∏ –±—É–¥–µ—Ç —Å–∞–º–æ–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π!",
    "–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, {name}! üèî –ñ–µ–ª–∞—é –ø–æ–∫–æ—Ä–∏—Ç—å –≤—Å–µ –≤–µ—Ä—à–∏–Ω—ã, –∫ –∫–æ—Ç–æ—Ä—ã–º —Å—Ç—Ä–µ–º–∏—à—å—Å—è!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üé™ –ü—É—Å—Ç—å –∂–∏–∑–Ω—å –±—É–¥–µ—Ç —è—Ä–∫–æ–π, –∫–∞–∫ –ø—Ä–∞–∑–¥–Ω–∏–∫!",
    "{name}, —Å –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º! üåæ –ñ–µ–ª–∞—é —â–µ–¥—Ä–æ–≥–æ —É—Ä–æ–∂–∞—è –æ—Ç –≤—Å–µ–≥–æ, —á—Ç–æ —Ç—ã –¥–µ–ª–∞–µ—à—å!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üß∏ –ü—É—Å—Ç—å –≤ —Å–µ—Ä–¥—Ü–µ –≤—Å–µ–≥–¥–∞ –∂–∏–≤—ë—Ç –¥–æ–±—Ä–æ—Ç–∞!",
    "{name}, –ø–æ–∑–¥—Ä–∞–≤–ª—è—é! üíå –ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –ø—Ä–∏–Ω–æ—Å–∏—Ç –ø—Ä–∏—è—Ç–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! ü™¥ –†–∞—Å—Ç–∏, —Ä–∞–∑–≤–∏–≤–∞–π—Å—è –∏ –±—É–¥—å —Å—á–∞—Å—Ç–ª–∏–≤!",
    "{name}, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! üé≠ –ñ–µ–ª–∞—é —è—Ä–∫–∏—Ö —Ä–æ–ª–µ–π –Ω–∞ —Å—Ü–µ–Ω–µ –∂–∏–∑–Ω–∏!",
    "–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, {name}! üåç –ü—É—Å—Ç—å –º–∏—Ä –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã—Ç –¥–ª—è —Ç–µ–±—è –≤–æ –≤—Å–µ–π –∫—Ä–∞—Å–µ!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! ü´ß –ü—É—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –ª–æ–ø–∞—é—Ç—Å—è, –∫–∞–∫ –º—ã–ª—å–Ω—ã–µ –ø—É–∑—ã—Ä–∏!",
    "{name}, —Å –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º! üß≠ –ñ–µ–ª–∞—é –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç—å –≤–µ—Ä–Ω—ã–π –ø—É—Ç—å!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üé® –ü—É—Å—Ç—å –∂–∏–∑–Ω—å –±—É–¥–µ—Ç –Ω–∞–ø–æ–ª–Ω–µ–Ω–∞ —è—Ä–∫–∏–º–∏ –∫—Ä–∞—Å–∫–∞–º–∏!",
    "{name}, –ø–æ–∑–¥—Ä–∞–≤–ª—è—é! üèÖ –¢—ã –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å –≤—Å–µ–≥–æ —Å–∞–º–æ–≥–æ –ª—É—á—à–µ–≥–æ!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! ‚õµ –ü—É—Å—Ç—å –ø–æ–ø—É—Ç–Ω—ã–π –≤–µ—Ç–µ—Ä –Ω–µ—Å—ë—Ç –∫ –Ω–æ–≤—ã–º –±–µ—Ä–µ–≥–∞–º!",
    "{name}, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! üçÄ –ü—É—Å—Ç—å —É–¥–∞—á–∞ —Å—Ç–∞–Ω–µ—Ç –≤–µ—Ä–Ω—ã–º —Å–ø—É—Ç–Ω–∏–∫–æ–º!",
    "–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, {name}! üîë –ñ–µ–ª–∞—é –æ—Ç–∫—Ä—ã—Ç—å –≤—Å–µ –¥–≤–µ—Ä–∏, –∑–∞ –∫–æ—Ç–æ—Ä—ã–º–∏ –∂–¥—ë—Ç —Å—á–∞—Å—Ç—å–µ!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! üåº –ü—É—Å—Ç—å –∂–∏–∑–Ω—å —Ü–≤–µ—Ç—ë—Ç –∏ –ø–∞—Ö–Ω–µ—Ç!",
    "{name}, —Å –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º! üé§ –ü—É—Å—Ç—å —Ç–≤–æ–π –≥–æ–ª–æ—Å –±—É–¥–µ—Ç —É—Å–ª—ã—à–∞–Ω!",
    "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, {name}! ü´∞ –ü—É—Å—Ç—å –≤—Å—ë –±—É–¥–µ—Ç –ª–µ–≥–∫–æ –∏ –ø—Ä–æ—Å—Ç–æ!",
    "{name}, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! üåÑ –ü—É—Å—Ç—å –≤–ø–µ—Ä–µ–¥–∏ –∂–¥—É—Ç —Ç–æ–ª—å–∫–æ —Å–≤–µ—Ç–ª—ã–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç—ã!",
    "–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, {name}! üé≤ –ü—É—Å—Ç—å —Å—É–¥—å–±–∞ –≤—Å–µ–≥–¥–∞ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ª—É—á—à–∏–π —Ä–∞—Å–∫–ª–∞–¥!",
]


class GreetingService:
    def __init__(self, bot: Bot) -> None:
        self._bot = bot

    async def send_greeting(
        self,
        channel_id: int,
        user_id: int,
        username: str | None,
        first_name: str | None,
        day: int,
        month: int,
    ) -> None:
        text = random.choice(DEFAULT_TEMPLATES)
        rendered = self._render(text, first_name, username, day, month, user_id)
        await self._bot.send_message(channel_id, rendered)

        logger.info(
            "Sent birthday greeting in channel %d for user %d",
            channel_id,
            user_id,
        )

    def _render(
        self,
        text: str,
        first_name: str | None,
        username: str | None,
        day: int,
        month: int,
        user_id: int,
    ) -> str:
        if username:
            name = f"@{username}"
        elif first_name:
            name = f'<a href="tg://user?id={user_id}">{first_name}</a>'
        else:
            name = "–¥—Ä—É–≥"
        try:
            return text.format(
                name=name,
                username=f"@{username}" if username else name,
                day=day,
                month=month_name(month),
            )
        except (KeyError, IndexError):
            return text
